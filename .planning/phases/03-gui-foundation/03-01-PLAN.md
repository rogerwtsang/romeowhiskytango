---
phase: 03-gui-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/gui/widgets/collapsible_frame.py
autonomous: true

must_haves:
  truths:
    - "Setup panel can be collapsed/expanded to maximize workspace"
    - "Panel toggle shows visual indicator (arrow changes direction)"
    - "Resizable panels allow user to adjust workspace layout"
  artifacts:
    - path: "src/gui/widgets/collapsible_frame.py"
      provides: "Collapsible frame widget with toggle button"
      min_lines: 50
      exports: ["CollapsibleFrame"]
  key_links:
    - from: "CollapsibleFrame"
      to: "ttk.Frame content area"
      via: "pack/pack_forget on toggle"
      pattern: "self\\.content\\.pack"
---

<objective>
Create foundation widgets for dashboard panels: CollapsibleFrame for collapsible sections and establish PanedWindow usage patterns.

Purpose: Provide reusable UI components that all dashboard panels will use for consistent behavior and appearance.

Output: CollapsibleFrame widget ready for use in Setup panel and other collapsible sections.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-gui-foundation/03-CONTEXT.md
@.planning/phases/03-gui-foundation/03-RESEARCH.md
@src/gui/widgets/labeled_slider.py
@src/gui/widgets/__init__.py
</context>

<tasks>

<task type="auto">
  <name>Create CollapsibleFrame widget</name>
  <files>src/gui/widgets/collapsible_frame.py</files>
  <action>
Create CollapsibleFrame widget following the pattern from RESEARCH.md (Pattern 2: Collapsible Panel).

Implementation requirements:
- Inherit from ttk.Frame
- __init__ accepts parent and text parameter for section title
- Header frame with toggle button (▼/▶ arrow indicators)
- Content frame that shows/hides on toggle
- toggle() method uses pack_forget() to hide, pack() to show
- get_content_frame() method returns content frame for parent to add widgets
- collapsed attribute tracks current state
- Follow existing widget patterns from labeled_slider.py (type hints, docstrings)

Use Google-style docstrings with Args/Returns sections.
Apply project naming conventions (snake_case methods, PascalCase class).

Do NOT use StringVar for button text (memory leak risk from RESEARCH.md Pitfall 2).
Use direct button.config(text=...) instead.
  </action>
  <verify>
    - File exists at src/gui/widgets/collapsible_frame.py
    - Class CollapsibleFrame inherits from ttk.Frame
    - Contains toggle(), get_content_frame() methods
    - mypy src/gui/widgets/collapsible_frame.py shows no errors
  </verify>
  <done>
CollapsibleFrame widget created with toggle functionality, properly typed, following project conventions and RESEARCH.md patterns.
  </done>
</task>

<task type="auto">
  <name>Export CollapsibleFrame from widgets package</name>
  <files>src/gui/widgets/__init__.py</files>
  <action>
Add CollapsibleFrame to the widgets package exports.

Add import statement:
```python
from src.gui.widgets.collapsible_frame import CollapsibleFrame
```

Add to __all__ list if it exists, or create __all__ with existing exports plus CollapsibleFrame.

Follow existing pattern from the file for consistency.
  </action>
  <verify>
    - CollapsibleFrame appears in src/gui/widgets/__init__.py
    - python -c "from src.gui.widgets import CollapsibleFrame; print(CollapsibleFrame)" runs without error
  </verify>
  <done>
CollapsibleFrame exported from widgets package and importable from src.gui.widgets.
  </done>
</task>

</tasks>

<verification>
Run mypy on created files:
```bash
mypy src/gui/widgets/collapsible_frame.py
```

Verify imports work:
```bash
python -c "from src.gui.widgets import CollapsibleFrame; print(CollapsibleFrame.__name__)"
```

Expected output: "CollapsibleFrame"
</verification>

<success_criteria>
- CollapsibleFrame widget exists and is properly typed
- Widget follows project conventions (docstrings, naming, type hints)
- Widget implements RESEARCH.md pattern (pack/pack_forget, direct button config)
- Widget is exported and importable
- No mypy errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-gui-foundation/03-01-SUMMARY.md`
</output>
